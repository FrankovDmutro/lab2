# Опис програми для перевірки приналежності точки трикутнику

Ця програма дозволяє перевірити, чи належить задана точка трикутнику, використовуючи два методи:
1. **Метод Герона** (обчислення площі трикутника за формулою Герона).
2. **Метод площі через детермінант** (обчислення площі через векторний добуток).

Програма також дозволяє користувачеві змінювати координати трикутника та точки, а також вибирати метод перевірки.

---

## Опис функцій

### Структура `Point`
```cpp
struct Point {
    double x, y;
    void read();
    friend std::istream& operator>>(std::istream& is, Point& p);
};
```
- **`read()`**: Зчитує координати точки з введення користувача.
- **`operator>>`**: Перевантажений оператор для зручного введення координат точки.

---

### Структура `Triangle`
```cpp
struct Triangle {
    Point A, B, C;
    void read();
    bool exists() const;
    bool existsBySides() const;
    bool existsByArea() const;
    double areaHeron() const;
    double areaDeterminant() const;
};
```
- **`read()`**: Зчитує координати вершин трикутника з введення користувача.
- **`exists()`**: Перевіряє, чи існує трикутник (не вироджений).
- **`existsBySides()`**: Перевіряє існування трикутника за довжинами сторін (умова трикутника).
- **`existsByArea()`**: Перевіряє, чи площа трикутника не дорівнює нулю.
- **`areaHeron()`**: Обчислює площу трикутника за формулою Герона.
- **`areaDeterminant()`**: Обчислює площу трикутника через детермінант.

---

### Утиліти
```cpp
double distance(const Point& p1, const Point& p2);
double area(const Point& A, const Point& B, const Point& C);
bool onSegment(const Point& U, const Point& V, const Point& P);
```
- **`distance()`**: Обчислює відстань між двома точками.
- **`area()`**: Обчислює площу трикутника через детермінант.
- **`onSegment()`**: Перевіряє, чи лежить точка на відрізку між двома іншими точками.

---

### Методи перевірки точки
```cpp
void methodByHeron(const Triangle& t, const Point& p);
void methodByAreaFormula(const Triangle& t, const Point& p);
```
- **`methodByHeron()`**: Використовує формулу Герона для перевірки приналежності точки трикутнику.
- **`methodByAreaFormula()`**: Використовує площу через детермінант для перевірки приналежності точки трикутнику.

---

## Математичні формули

### 1. Формула Герона
Формула Герона використовується для обчислення площі трикутника за довжинами його сторін.

#### Кроки:
1. Обчислюємо довжини сторін трикутника:
   \[
   a = \sqrt{(B_x - A_x)^2 + (B_y - A_y)^2}
   \]
   \[
   b = \sqrt{(C_x - B_x)^2 + (C_y - B_y)^2}
   \]
   \[
   c = \sqrt{(A_x - C_x)^2 + (A_y - C_y)^2}
   \]

2. Обчислюємо півпериметр:
   \[
   s = \frac{a + b + c}{2}
   \]

3. Обчислюємо площу:
   \[
   \text{Area} = \sqrt{s \cdot (s - a) \cdot (s - b) \cdot (s - c)}
   \]

#### Умови:
- Трикутник існує, якщо виконується умова:
  \[
  a + b > c, \quad a + c > b, \quad b + c > a
  \]

---

### 2. Формула площі через детермінант
Цей метод використовує векторний добуток для обчислення площі трикутника.

#### Кроки:
1. Обчислюємо площу трикутника через детермінант:
   \[
   \text{Area} = \frac{1}{2} \cdot \left| A_x \cdot (B_y - C_y) + B_x \cdot (C_y - A_y) + C_x \cdot (A_y - B_y) \right|
   \]

2. Для перевірки приналежності точки:
   - Обчислюємо площі трьох трикутників:
     \[
     \text{Area}_1 = \text{area}(P, B, C)
     \]
     \[
     \text{Area}_2 = \text{area}(A, P, C)
     \]
     \[
     \text{Area}_3 = \text{area}(A, B, P)
     \]

   - Якщо сума цих площ дорівнює площі основного трикутника (з точністю до `eps`), точка належить трикутнику:
     \[
     \text{Area} \approx \text{Area}_1 + \text{Area}_2 + \text{Area}_3
     \]

#### Умови:
- Трикутник не вироджений, якщо його площа не дорівнює нулю:
  \[
  \text{Area} > \text{eps}
  \]

---

### 3. Перевірка точки на межі трикутника
Для перевірки, чи лежить точка на межі трикутника:
1. Перевіряємо, чи точка колінеарна з відрізком (площа ≈ 0):
   \[
   \text{Cross} = (V_x - U_x) \cdot (P_y - U_y) - (V_y - U_y) \cdot (P_x - U_x)
   \]
   Якщо \(\text{Cross} \approx 0\), точки колінеарні.

2. Перевіряємо, чи точка знаходиться між кінцями відрізка:
   \[
   \min(U_x, V_x) - \text{eps} \leq P_x \leq \max(U_x, V_x) + \text{eps}
   \]
   \[
   \min(U_y, V_y) - \text{eps} \leq P_y \leq \max(U_y, V_y) + \text{eps}
   \]

---

## Умови виконання функцій
1. **`existsBySides()`**: Виконується, якщо трикутник задовольняє умову існування за сторонами.
2. **`existsByArea()`**: Виконується, якщо площа трикутника більше за `eps`.
3. **`onSegment()`**: Виконується, якщо точка колінеарна з відрізком і лежить між його кінцями.

---

## Приклад роботи програми
1. Введення координат трикутника:
   ```
   A: 0 0
   B: 5 0
   C: 0 5
   ```

2. Введення координат точки:
   ```
   P: 2 2
   ```

3. Вибір методу перевірки:
   ```
   1. Метод Герона
   2. Формула площі
   3. Два методи перевірки
   ```

4. Результат:
   ```
   Точка належить трикутнику (метод Герона).
   Точка всередині трикутника (метод площ).
   ```

--- 

Ця програма є корисним інструментом для геометричних обчислень і демонструє використання математичних формул у програмуванні.